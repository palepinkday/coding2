<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>슬라이드 이펙트03</title>

    <link rel="stylesheet" href="../assets/css/slider.css" />
    <link rel="stylesheet" href="../assets/css/dracula.css" />

    <link
      href="https://webfontworld.github.io/NexonLv1Gothic/NexonLv1Gothic.css"
      rel="stylesheet"
    />

    <style>
      /* slider */
      .slider__wrap {
        width: 100%;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .slider__img {
        /* 이미지 보이는 영역 */
        position: relative;
        width: 800px;
        height: 450px;
        overflow: hidden;
      }

      .slider__inner {
        /* 이미지를 감싸고 있는 부모 : 움직이는 부분 */
        display: flex;
        flex-wrap: wrap;
        width: 4800px;
        /* 6 */
        height: 450px;
      }

      .slider {
        /* 개별적인 이미지 */
        position: relative;
        width: 800px;
        height: 450px;
      }

      .slider::before {
        position: absolute;
        left: 5px;
        top: 5px;
        background: rgba(0, 0, 0, 0.4);
        color: #fff;
        padding: 5px 10px;
      }

      .slider:nth-child(1)::before {
        content: "이미지1";
      }

      .slider:nth-child(2)::before {
        content: "이미지2";
      }

      .slider:nth-child(3)::before {
        content: "이미지3";
      }

      .slider:nth-child(4)::before {
        content: "이미지4";
      }

      .slider:nth-child(5)::before {
        content: "이미지5";
      }

      .slider:nth-child(6)::before {
        content: "이미지1";
      }

      @media (max-width: 800px) {
        .slider__img {
          width: 400px;
          height: 225px;
        }
      }
    </style>
  </head>

  <body class="img08">
    <header id="header">
      <h1>Javascript Slider Effect03</h1>
      <p>슬라이드 이펙트 - 좌로 움직이기(연속적으로)</p>
      <ul>
        <li><a href="sliderEffect01.html">1</a></li>
        <li><a href="sliderEffect02.html">2</a></li>
        <li class="active"><a href="sliderEffect03.html">3</a></li>
        <li><a href="sliderEffect04.html">4</a></li>
        <li><a href="sliderEffect05.html">5</a></li>
        <li><a href="sliderEffect06.html">6</a></li>
        <li><a href="sliderEffect07.html">7</a></li>
      </ul>
    </header>
    <!-- //header -->

    <main id="main">
      <section id="sliderType01">
        <div class="slider__wrap">
          <div class="slider__img">
            <div class="slider__inner">
              <div class="slider">
                <img src="../assets/img/effect_bg03-min.jpg" alt="이미지1" />
              </div>
              <div class="slider">
                <img src="../assets/img/effect_bg04-min.jpg" alt="이미지2" />
              </div>
              <div class="slider">
                <img src="../assets/img/effect_bg05-min.jpg" alt="이미지3" />
              </div>
              <div class="slider">
                <img src="../assets/img/effect_bg06-min.jpg" alt="이미지4" />
              </div>
              <div class="slider">
                <img src="../assets/img/effect_bg07-min.jpg" alt="이미지5" />
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
    <!-- //main -->

    <footer id="footer">
      <div class="modal__wrap">
        <div class="modal__btn">소스 보기</div>
        <div class="modal__cont">
          <div class="modal__box">
            <div class="title">
              <span class="dot" aria-label="true"></span>
              <div class="tabs">
                <div class="active">
                  <span class="favicon" aria-label="true">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 18 18"
                      fill="none"
                      aria-hidden="true"
                      focusable="false"
                    >
                      <circle cx="9" cy="9" r="9" fill="#fff"></circle>
                      <path
                        d="M18 9C18 13.9706 15.4688 3.09375 9 10.125C2.53125 17.1562 0 13.9706 0 9C0 4.02944 4.02944 0 9 0C13.9706 0 18 4.02944 18 9Z"
                        fill="orange"
                      ></path>
                      <path
                        d="M18 9C18 13.9706 14.9062 0.84375 8.29688 6.1875C1.6875 11.5312 0 13.9706 0 9C0 4.02944 4.02944 0 9 0C13.9706 0 18 4.02944 18 9Z"
                        fill="yellow"
                      ></path>
                    </svg>
                  </span>
                  <em>Javascript</em>
                  <span class="close">
                    <svg
                      width="18"
                      height="16"
                      viewBox="0 0 16 16"
                      fill="none"
                      aria-hidden="true"
                      focusable="false"
                    >
                      <path
                        d="M12.5 3.5L3.5 12.5"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      ></path>
                      <path
                        d="M12.5 12.5L3.5 3.5"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      ></path>
                    </svg>
                  </span>
                </div>
                <div>
                  <span class="favicon" aria-label="true">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 18 18"
                      fill="none"
                      aria-hidden="true"
                      focusable="false"
                    >
                      <circle cx="9" cy="9" r="9" fill="#fff"></circle>
                      <path
                        d="M18 9C18 13.9706 15.4688 3.09375 9 10.125C2.53125 17.1562 0 13.9706 0 9C0 4.02944 4.02944 0 9 0C13.9706 0 18 4.02944 18 9Z"
                        fill="orange"
                      ></path>
                      <path
                        d="M18 9C18 13.9706 14.9062 0.84375 8.29688 6.1875C1.6875 11.5312 0 13.9706 0 9C0 4.02944 4.02944 0 9 0C13.9706 0 18 4.02944 18 9Z"
                        fill="yellow"
                      ></path>
                    </svg>
                  </span>
                  <em>HTML</em>
                  <span class="close">
                    <svg
                      width="18"
                      height="16"
                      viewBox="0 0 16 16"
                      fill="none"
                      aria-hidden="true"
                      focusable="false"
                    >
                      <path
                        d="M12.5 3.5L3.5 12.5"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      ></path>
                      <path
                        d="M12.5 12.5L3.5 3.5"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      ></path>
                    </svg>
                  </span>
                </div>
                <div>
                  <span class="favicon" aria-label="true">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 18 18"
                      fill="none"
                      aria-hidden="true"
                      focusable="false"
                    >
                      <circle cx="9" cy="9" r="9" fill="#fff"></circle>
                      <path
                        d="M18 9C18 13.9706 15.4688 3.09375 9 10.125C2.53125 17.1562 0 13.9706 0 9C0 4.02944 4.02944 0 9 0C13.9706 0 18 4.02944 18 9Z"
                        fill="orange"
                      ></path>
                      <path
                        d="M18 9C18 13.9706 14.9062 0.84375 8.29688 6.1875C1.6875 11.5312 0 13.9706 0 9C0 4.02944 4.02944 0 9 0C13.9706 0 18 4.02944 18 9Z"
                        fill="yellow"
                      ></path>
                    </svg>
                  </span>
                  <em>CSS</em>
                  <span class="close">
                    <svg
                      width="18"
                      height="16"
                      viewBox="0 0 16 16"
                      fill="none"
                      aria-hidden="true"
                      focusable="false"
                    >
                      <path
                        d="M12.5 3.5L3.5 12.5"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      ></path>
                      <path
                        d="M12.5 12.5L3.5 3.5"
                        stroke="currentColor"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      ></path>
                    </svg>
                  </span>
                </div>
              </div>
              <span class="plus" aria-label="true">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                  aria-hidden="true"
                  focusable="false"
                >
                  <path
                    d="M2.5 8H13.5"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  ></path>
                  <path
                    d="M8 2.5V13.5"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  ></path>
                </svg>
              </span>
            </div>
            <div class="cont">
              <div class="active">
                <pre><code class="language-js">
</code></pre>
              </div>
              <div>
                <pre><code class="language-html">&lt;div class="slider__wrap"&gt;
    &lt;div class="slider__img"&gt;
        &lt;div class="slider"&gt;&lt;img src="../assets/img/effect_bg01-min.jpg" alt="이미지1"&gt;&lt;/div&gt;
        &lt;div class="slider"&gt;&lt;img src="../assets/img/effect_bg02-min.jpg" alt="이미지2"&gt;&lt;/div&gt;
        &lt;div class="slider"&gt;&lt;img src="../assets/img/effect_bg03-min.jpg" alt="이미지3"&gt;&lt;/div&gt;
        &lt;div class="slider"&gt;&lt;img src="../assets/img/effect_bg04-min.jpg" alt="이미지4"&gt;&lt;/div&gt;
        &lt;div class="slider"&gt;&lt;img src="../assets/img/effect_bg05-min.jpg" alt="이미지5"&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
              </div>
              <div>
                <pre><code class="language-css">
</code></pre>
              </div>
            </div>
          </div>
          <div class="modal__close">
            <svg
              width="18"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
              aria-hidden="true"
              focusable="false"
            >
              <path
                d="M12.5 3.5L3.5 12.5"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></path>
              <path
                d="M12.5 12.5L3.5 3.5"
                stroke="currentColor"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></path>
            </svg>
          </div>
        </div>
      </div>
    </footer>
    <!-- //footer -->

    <script src="../assets/js/highlight.min.js"></script>
    <script src="../assets/js/common.js"></script>
    <script>
      const sliderWrap = document.querySelector(".slider__wrap");
      const sliderImg = document.querySelector(".slider__img"); //보여지는 영역
      const sliderInner = document.querySelector(".slider__inner"); //움직이는 영역
      const slider = document.querySelectorAll(".slider"); //각각 이미지

      let currentIndex = 0; //현재 보이는 이미지
      let sliderCount = slider.length; //이미지 갯수
      let sliderWidth = sliderImg.offsetWidth; //이미지 가로값 , HTMLElement.offsetWidth 요소의 레이아웃 너비를 정수로 반환합니다.
      let sliderClone = sliderInner.firstElementChild.cloneNode(true); //첫번째 이미지 복사
      //Node.cloneNode() 메서드는 이 메서드를 호출한 Node 의 복제된 Node를 반환합니다.
      //Element.firstElementChild읽기 전용 속성은 요소의 첫 번째 자식을 반환 하거나 Element자식 null요소가 없는 경우 반환합니다.
      sliderInner.appendChild(sliderClone); //첫번째 이미지를 마지막에 넣어줌
      //Node.appendChild() 메소드는 한 노드를 특정 부모 노드의 자식 노드 리스트 중 마지막 자식으로 붙입니다.
      //만약 주어진 노드가 이미 문서에 존재하는 노드를 참조하고 있다면
      //appendChild() 메소드는 노드를 현재 위치에서 새로운 위치로 이동시킵니다.
      //(문서에 존재하는 노드를 다른 곳으로 붙이기 전에 부모 노드로 부터 지워버릴 필요는 없습니다.)
      function sliderEffect() {
        currentIndex++;
        sliderInner.style.transition = "all 0.6s";
        sliderInner.style.transform =
          "translateX(-" + sliderWidth * currentIndex + "px)";
        // sliderInner.style.transform= "translateX(-800px)";   800 * 1
        // sliderInner.style.transform= "translateX(-1600px)";  800 * 2
        // sliderInner.style.transform= "translateX(-2400px)";  800 * 3
        // sliderInner.style.transform= "translateX(-3200px)";  800 * 4
        // sliderInner.style.transform= "translateX(-4000px)";  800 * 5
        // sliderInner.style.transform= "translateX(-4800px)";  800 * 6
        // 마지막 사진에 위치 했을 때
        if (currentIndex == sliderCount) {
          setTimeout(() => {
            //전역 setTimeout()메서드는 타이머가 만료되면 함수 또는 지정된 코드를 실행하는 타이머를 설정합니다.
            sliderInner.style.transition = "0s";
            sliderInner.style.transform = "translateX(0px)";
          }, 700);
          currentIndex = 0;
        }
      }
      setInterval(sliderEffect, 2000);
      //setInterval()메서드 는 각 호출 사이에 고정된 시간 지연으로 함수를 반복적으로 호출하거나 코드 조각을 실행합니다
    </script>
  </body>
</html>
